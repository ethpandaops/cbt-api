server:
  port: 8080
  host: 0.0.0.0
  read_header_timeout: 10s
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s

clickhouse:
  dsn: "https://user:pass@host"
  database: "mainnet"
  use_final: true
  max_open_conns: 10
  max_idle_conns: 5
  conn_max_lifetime: 60s
  dial_timeout: 10s
  read_timeout: 30s
  write_timeout: 30s
  max_execution_time: 60
  insecure_skip_verify: false

# OpenTelemetry tracing configuration
telemetry:
  # Enable/disable tracing
  enabled: false

  # OTLP gRPC endpoint (Grafana Tempo)
  # Format: "host:port" (e.g., "tempo.example.com:443")
  endpoint: "tempo.example.com:443"

  # Use insecure connection (development only, should be false in production)
  insecure: false

  # Authentication headers (for Tempo auth)
  # Example: Authorization header with Bearer token
  headers:
    Authorization: "Bearer <your-token-here>"

  # Service identification
  service_name: "xatu-cbt-api"
  service_version: "1.0.0"

  # Environment/network label (defaults to database name if not specified)
  # This appears as "network.name" attribute in traces
  environment: "mainnet"

  # Sampling configuration
  # sample_rate: Percentage of traces to sample (0.0 to 1.0)
  #   0.0 = no sampling (except errors if always_sample_errors=true)
  #   0.1 = 10% sampling
  #   1.0 = 100% sampling (all traces)
  sample_rate: 0.1

  # Always sample requests that return HTTP status >= 400
  always_sample_errors: true

  # Export settings
  export_timeout: 10s
  export_batch_size: 512
